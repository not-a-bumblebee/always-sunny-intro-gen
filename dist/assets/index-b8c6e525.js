(function(){const B=document.createElement("link").relList;if(B&&B.supports&&B.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))l(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function R(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(n){if(n.ep)return;n.ep=!0;const o=R(n);fetch(n.href,o)}})();(()=>{var K={985:(l,n,o)=>{o.r(n),o.d(n,{defaultOptions:()=>i,fetchFile:()=>h,getCreateFFmpegCore:()=>_});const i={corePath:`https://unpkg.com/@ffmpeg/core@${o(681).devDependencies["@ffmpeg/core"].substring(1)}/dist/ffmpeg-core.js`};var g=o(888),L=o(451);const y=async(c,v)=>{(0,g.log)("info",`fetch ${c}`);const u=await(await fetch(c)).arrayBuffer();(0,g.log)("info",`${c} file size = ${u.byteLength} bytes`);const E=new Blob([u],{type:v}),j=URL.createObjectURL(E);return(0,g.log)("info",`${c} blob URL = ${j}`),j},_=async({corePath:c,workerPath:v,wasmPath:u})=>{if(typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope){if(typeof c!="string")throw Error("corePath should be a string!");const O=new URL(c,"file:///C:/Users/aznpa/Desktop/nerd%20shit/webdevarino/websites%20Desktop/always-sunny/node_modules/@ffmpeg/ffmpeg/src/browser/getCreateFFmpegCore.js").href,d=await y(O,"application/javascript"),x=await y(u!==void 0?u:O.replace("ffmpeg-core.js","ffmpeg-core.wasm"),"application/wasm"),T=await y(v!==void 0?v:O.replace("ffmpeg-core.js","ffmpeg-core.worker.js"),"application/javascript");return typeof createFFmpegCore>"u"?new Promise(N=>{if(globalThis.importScripts(d),typeof createFFmpegCore>"u")throw Error((0,L.CREATE_FFMPEG_CORE_IS_NOT_DEFINED)(O));(0,g.log)("info","ffmpeg-core.js script loaded"),N({createFFmpegCore,corePath:d,wasmPath:x,workerPath:T})}):((0,g.log)("info","ffmpeg-core.js script is loaded already"),Promise.resolve({createFFmpegCore,corePath:d,wasmPath:x,workerPath:T}))}if(typeof c!="string")throw Error("corePath should be a string!");const E=new URL(c,"file:///C:/Users/aznpa/Desktop/nerd%20shit/webdevarino/websites%20Desktop/always-sunny/node_modules/@ffmpeg/ffmpeg/src/browser/getCreateFFmpegCore.js").href,j=await y(E,"application/javascript"),P=await y(E.replace("ffmpeg-core.js","ffmpeg-core.wasm"),"application/wasm"),b=await y(E.replace("ffmpeg-core.js","ffmpeg-core.worker.js"),"application/javascript");return typeof createFFmpegCore>"u"?new Promise(O=>{const d=document.createElement("script"),x=()=>{if(d.removeEventListener("load",x),typeof createFFmpegCore>"u")throw Error((0,L.CREATE_FFMPEG_CORE_IS_NOT_DEFINED)(E));(0,g.log)("info","ffmpeg-core.js script loaded"),O({createFFmpegCore,corePath:j,wasmPath:P,workerPath:b})};d.src=j,d.type="text/javascript",d.addEventListener("load",x),document.getElementsByTagName("head")[0].appendChild(d)}):((0,g.log)("info","ffmpeg-core.js script is loaded already"),Promise.resolve({createFFmpegCore,corePath:j,wasmPath:P,workerPath:b}))},h=async c=>{let v=c;if(c===void 0)return new Uint8Array;typeof c=="string"?/data:_data\/([a-zA-Z]*);base64,([^"]*)/.test(c)?v=atob(c.split(",")[1]).split("").map(E=>E.charCodeAt(0)):v=await(await fetch(new URL(c,"file:///C:/Users/aznpa/Desktop/nerd%20shit/webdevarino/websites%20Desktop/always-sunny/node_modules/@ffmpeg/ffmpeg/src/browser/fetchFile.js").href)).arrayBuffer():(c instanceof File||c instanceof Blob)&&(v=await(u=c,new Promise((E,j)=>{const P=new FileReader;P.onload=()=>{E(P.result)},P.onerror=({target:{error:{code:b}}})=>{j(Error(`File could not be read! Code=${b}`))},P.readAsArrayBuffer(u)})));var u;return new Uint8Array(v)}},617:l=>{l.exports={defaultArgs:["./ffmpeg","-nostdin","-y"],baseOptions:{log:!1,logger:()=>{},progress:()=>{},corePath:""}}},648:(l,n,o)=>{const{defaultArgs:i,baseOptions:g}=o(617),L=o(10),{defaultOptions:y,getCreateFFmpegCore:_}=o(985),{version:h}=o(681),c=Error("ffmpeg.wasm is not ready, make sure you have completed load().");l.exports=(v={})=>{const{log:u,logger:E,progress:j,...P}={...g,...y,...v};let b=null,O=null,d=null,x=null,T=!1,N=()=>{},G=u,W=j,I=0,U=0,M=!1,$=0;const A=(p,w)=>{N({type:p,message:w}),G&&console.log(`[${p}] ${w}`)},Y=p=>{const[w,f,k]=p.split(":");return 60*parseFloat(w)*60+60*parseFloat(f)+parseFloat(k)},J=({type:p,message:w})=>{A(p,w),((f,k)=>{if(typeof f=="string")if(f.startsWith("  Duration")){const e=f.split(", ")[0].split(": ")[1],t=Y(e);k({duration:t,ratio:$}),(I===0||I>t)&&(I=t,M=!0)}else if(M&&f.startsWith("    Stream")){const e=f.match(/([\d.]+) fps/);if(e){const t=parseFloat(e[1]);U=I*t}else U=0;M=!1}else if(f.startsWith("frame")||f.startsWith("size")){const e=f.split("time=")[1].split(" ")[0],t=Y(e),r=f.match(/frame=\s*(\d+)/);if(U&&r){const s=parseFloat(r[1]);$=Math.min(s/U,1)}else $=t/I;k({ratio:$,time:t})}else f.startsWith("video:")&&(k({ratio:1}),I=0)})(w,W),(f=>{f==="FFMPEG_END"&&d!==null&&(d(),d=null,x=null,T=!1)})(w)};return A("info",`use ffmpeg.wasm v${h}`),{setProgress:p=>{W=p},setLogger:p=>{N=p},setLogging:p=>{G=p},load:async()=>{if(A("info","load ffmpeg-core"),b!==null)throw Error("ffmpeg.wasm was loaded, you should not load it again, use ffmpeg.isLoaded() to check next time.");{A("info","loading ffmpeg-core");const{createFFmpegCore:p,corePath:w,workerPath:f,wasmPath:k}=await _(P);b=await p({mainScriptUrlOrBlob:w,printErr:e=>J({type:"fferr",message:e}),print:e=>J({type:"ffout",message:e}),locateFile:(e,t)=>{if(typeof window<"u"||typeof WorkerGlobalScope<"u"){if(k!==void 0&&e.endsWith("ffmpeg-core.wasm"))return k;if(f!==void 0&&e.endsWith("ffmpeg-core.worker.js"))return f}return t+e}}),O=b.cwrap(P.mainName||"proxy_main","number",["number","number"]),A("info","ffmpeg-core loaded")}},isLoaded:()=>b!==null,run:(...p)=>{if(A("info",`run ffmpeg command: ${p.join(" ")}`),b===null)throw c;if(T)throw Error("ffmpeg.wasm can only run one command at a time");return T=!0,new Promise((w,f)=>{const k=[...i,...p].filter(e=>e.length!==0);d=w,x=f,O(...L(b,k))})},exit:()=>{if(b===null)throw c;x&&x("ffmpeg has exited"),T=!1;try{b.exit(1)}catch(p){A(p.message),x&&x(p)}finally{b=null,O=null,d=null,x=null}},FS:(p,...w)=>{if(A("info",`run FS.${p} ${w.map(f=>typeof f=="string"?f:`<${f.length} bytes binary file>`).join(" ")}`),b===null)throw c;{let f=null;try{f=b.FS[p](...w)}catch{throw Error(p==="readdir"?`ffmpeg.FS('readdir', '${w[0]}') error. Check if the path exists, ex: ffmpeg.FS('readdir', '/')`:p==="readFile"?`ffmpeg.FS('readFile', '${w[0]}') error. Check if the path exists`:"Oops, something went wrong in FS operation.")}return f}}}}},45:(l,n,o)=>{o(666);const i=o(648),{fetchFile:g}=o(985);l.exports={createFFmpeg:i,fetchFile:g}},451:l=>{l.exports={CREATE_FFMPEG_CORE_IS_NOT_DEFINED:n=>`
createFFmpegCore is not defined. ffmpeg.wasm is unable to find createFFmpegCore after loading ffmpeg-core.js from ${n}. Use another URL when calling createFFmpeg():

const ffmpeg = createFFmpeg({
  corePath: 'http://localhost:3000/ffmpeg-core.js',
});
`}},888:l=>{let n=!1,o=()=>{};l.exports={logging:n,setLogging:i=>{n=i},setCustomLogger:i=>{o=i},log:(i,g)=>{o({type:i,message:g}),n&&console.log(`[${i}] ${g}`)}}},10:l=>{l.exports=(n,o)=>{const i=n._malloc(o.length*Uint32Array.BYTES_PER_ELEMENT);return o.forEach((g,L)=>{const y=n.lengthBytesUTF8(g)+1,_=n._malloc(y);n.stringToUTF8(g,_,y),n.setValue(i+Uint32Array.BYTES_PER_ELEMENT*L,_,"i32")}),[o.length,i]}},666:l=>{var n=function(o){var i,g=Object.prototype,L=g.hasOwnProperty,y=Object.defineProperty||function(e,t,r){e[t]=r.value},_=typeof Symbol=="function"?Symbol:{},h=_.iterator||"@@iterator",c=_.asyncIterator||"@@asyncIterator",v=_.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch{u=function(t,r,s){return t[r]=s}}function E(e,t,r,s){var a=t&&t.prototype instanceof x?t:x,m=Object.create(a.prototype),F=new w(s||[]);return y(m,"_invoke",{value:A(e,r,F)}),m}function j(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(s){return{type:"throw",arg:s}}}o.wrap=E;var P="suspendedStart",b="executing",O="completed",d={};function x(){}function T(){}function N(){}var G={};u(G,h,function(){return this});var W=Object.getPrototypeOf,I=W&&W(W(f([])));I&&I!==g&&L.call(I,h)&&(G=I);var U=N.prototype=x.prototype=Object.create(G);function M(e){["next","throw","return"].forEach(function(t){u(e,t,function(r){return this._invoke(t,r)})})}function $(e,t){function r(a,m,F,S){var C=j(e[a],e,m);if(C.type!=="throw"){var z=C.arg,q=z.value;return q&&typeof q=="object"&&L.call(q,"__await")?t.resolve(q.__await).then(function(D){r("next",D,F,S)},function(D){r("throw",D,F,S)}):t.resolve(q).then(function(D){z.value=D,F(z)},function(D){return r("throw",D,F,S)})}S(C.arg)}var s;y(this,"_invoke",{value:function(a,m){function F(){return new t(function(S,C){r(a,m,S,C)})}return s=s?s.then(F,F):F()}})}function A(e,t,r){var s=P;return function(a,m){if(s===b)throw new Error("Generator is already running");if(s===O){if(a==="throw")throw m;return k()}for(r.method=a,r.arg=m;;){var F=r.delegate;if(F){var S=Y(F,r);if(S){if(S===d)continue;return S}}if(r.method==="next")r.sent=r._sent=r.arg;else if(r.method==="throw"){if(s===P)throw s=O,r.arg;r.dispatchException(r.arg)}else r.method==="return"&&r.abrupt("return",r.arg);s=b;var C=j(e,t,r);if(C.type==="normal"){if(s=r.done?O:"suspendedYield",C.arg===d)continue;return{value:C.arg,done:r.done}}C.type==="throw"&&(s=O,r.method="throw",r.arg=C.arg)}}}function Y(e,t){var r=e.iterator[t.method];if(r===i){if(t.delegate=null,t.method==="throw"){if(e.iterator.return&&(t.method="return",t.arg=i,Y(e,t),t.method==="throw"))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var s=j(r,e.iterator,t.arg);if(s.type==="throw")return t.method="throw",t.arg=s.arg,t.delegate=null,d;var a=s.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,t.method!=="return"&&(t.method="next",t.arg=i),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function J(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function p(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(J,this),this.reset(!0)}function f(e){if(e){var t=e[h];if(t)return t.call(e);if(typeof e.next=="function")return e;if(!isNaN(e.length)){var r=-1,s=function a(){for(;++r<e.length;)if(L.call(e,r))return a.value=e[r],a.done=!1,a;return a.value=i,a.done=!0,a};return s.next=s}}return{next:k}}function k(){return{value:i,done:!0}}return T.prototype=N,y(U,"constructor",{value:N,configurable:!0}),y(N,"constructor",{value:T,configurable:!0}),T.displayName=u(N,v,"GeneratorFunction"),o.isGeneratorFunction=function(e){var t=typeof e=="function"&&e.constructor;return!!t&&(t===T||(t.displayName||t.name)==="GeneratorFunction")},o.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,N):(e.__proto__=N,u(e,v,"GeneratorFunction")),e.prototype=Object.create(U),e},o.awrap=function(e){return{__await:e}},M($.prototype),u($.prototype,c,function(){return this}),o.AsyncIterator=$,o.async=function(e,t,r,s,a){a===void 0&&(a=Promise);var m=new $(E(e,t,r,s),a);return o.isGeneratorFunction(t)?m:m.next().then(function(F){return F.done?F.value:m.next()})},M(U),u(U,v,"Generator"),u(U,h,function(){return this}),u(U,"toString",function(){return"[object Generator]"}),o.keys=function(e){var t=Object(e),r=[];for(var s in t)r.push(s);return r.reverse(),function a(){for(;r.length;){var m=r.pop();if(m in t)return a.value=m,a.done=!1,a}return a.done=!0,a}},o.values=f,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=i,this.done=!1,this.delegate=null,this.method="next",this.arg=i,this.tryEntries.forEach(p),!e)for(var t in this)t.charAt(0)==="t"&&L.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=i)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if(e.type==="throw")throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(C,z){return m.type="throw",m.arg=e,t.next=C,z&&(t.method="next",t.arg=i),!!z}for(var s=this.tryEntries.length-1;s>=0;--s){var a=this.tryEntries[s],m=a.completion;if(a.tryLoc==="root")return r("end");if(a.tryLoc<=this.prev){var F=L.call(a,"catchLoc"),S=L.call(a,"finallyLoc");if(F&&S){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(F){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!S)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var s=this.tryEntries[r];if(s.tryLoc<=this.prev&&L.call(s,"finallyLoc")&&this.prev<s.finallyLoc){var a=s;break}}a&&(e==="break"||e==="continue")&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var m=a?a.completion:{};return m.type=e,m.arg=t,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(m)},complete:function(e,t){if(e.type==="throw")throw e.arg;return e.type==="break"||e.type==="continue"?this.next=e.arg:e.type==="return"?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):e.type==="normal"&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),p(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var s=r.completion;if(s.type==="throw"){var a=s.arg;p(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:f(e),resultName:t,nextLoc:r},this.method==="next"&&(this.arg=i),d}},o}(l.exports);try{regeneratorRuntime=n}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},681:l=>{l.exports=JSON.parse('{"name":"@ffmpeg/ffmpeg","version":"0.11.5","description":"FFmpeg WebAssembly version","main":"src/index.js","types":"src/index.d.ts","directories":{"example":"examples"},"scripts":{"start":"node scripts/server.js","start:worker":"node scripts/worker-server.js","build":"rimraf dist && webpack --config scripts/webpack.config.prod.js","build:worker":"rimraf dist && webpack --config scripts/webpack.config.worker.prod.js","prepublishOnly":"npm run build","lint":"eslint src","wait":"rimraf dist && wait-on http://localhost:3000/dist/ffmpeg.dev.js","test":"npm-run-all -p -r start test:all","test:all":"npm-run-all wait test:browser:ffmpeg test:node:all","test:node":"node node_modules/mocha/bin/_mocha --exit --bail --require ./scripts/test-helper.js","test:node:all":"npm run test:node -- ./tests/*.test.js","test:browser":"mocha-headless-chrome -a allow-file-access-from-files -a incognito -a no-sandbox -a disable-setuid-sandbox -a disable-logging -t 300000","test:browser:ffmpeg":"npm run test:browser -- -f ./tests/ffmpeg.test.html"},"browser":{"./src/node/index.js":"./src/browser/index.js"},"repository":{"type":"git","url":"git+https://github.com/ffmpegwasm/ffmpeg.wasm.git"},"keywords":["ffmpeg","WebAssembly","video"],"author":"Jerome Wu <jeromewus@gmail.com>","license":"MIT","bugs":{"url":"https://github.com/ffmpegwasm/ffmpeg.wasm/issues"},"engines":{"node":">=12.16.1"},"homepage":"https://github.com/ffmpegwasm/ffmpeg.wasm#readme","dependencies":{"is-url":"^1.2.4","node-fetch":"^2.6.1","regenerator-runtime":"^0.13.7","resolve-url":"^0.2.1"},"devDependencies":{"@babel/core":"^7.12.3","@babel/preset-env":"^7.12.1","@ffmpeg/core":"^0.11.0","@types/emscripten":"^1.39.4","babel-eslint":"^10.1.0","babel-loader":"^8.1.0","chai":"^4.2.0","cors":"^2.8.5","eslint":"^7.12.1","eslint-config-airbnb-base":"^14.1.0","eslint-plugin-import":"^2.22.1","express":"^4.17.1","mocha":"^8.2.1","mocha-headless-chrome":"^2.0.3","npm-run-all":"^4.1.5","wait-on":"^5.3.0","webpack":"^5.3.2","webpack-cli":"^4.1.0","webpack-dev-middleware":"^4.0.0"}}')}},B={};function R(l){var n=B[l];if(n!==void 0)return n.exports;var o=B[l]={exports:{}};return K[l](o,o.exports,R),o.exports}R.n=l=>{var n=l&&l.__esModule?()=>l.default:()=>l;return R.d(n,{a:n}),n},R.d=(l,n)=>{for(var o in n)R.o(n,o)&&!R.o(l,o)&&Object.defineProperty(l,o,{enumerable:!0,get:n[o]})},R.o=(l,n)=>Object.prototype.hasOwnProperty.call(l,n),R.r=l=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})},(()=>{var l=R(45);const n=(0,l.createFFmpeg)({log:!0});let o,i,g,L=new FontFace("textile_regular",'url("textile_regular.ttf") '),y=document.getElementById("area");y.oninput=function(){console.log("input:",y.value),console.log("array test::",y.value.split(`
`));let h=y.value.split(`
`);h[0]='"'+h[0],h[h.length-1]=h[h.length-1]+'"',i.fillStyle="black",i.fillRect(0,0,1280,713);for(let c=0;c<h.length;c++)i.fillStyle="white",i.fillText(h[c].split("").join(String.fromCharCode(8202)),649,345+72*c)},crossOriginIsolated?console.log("We are cors isolated"):console.log("we NOT cors isolated",crossOriginIsolated);let _=document.getElementById("generate");_.addEventListener("click",h=>{h.preventDefault(),g=o.toDataURL("image/png"),async function(){_.disabled="true",console.log("Generating Intro");let c=await fetch("./always sunny.mp4");console.log("vidya",c),n.isLoaded()||await n.load();let v=document.getElementById("output");v.style.display="none";let u=document.getElementById("loading");u.innerText="Loading";let E=setInterval(()=>{u.innerText.length<10?u.innerText+=".":u.innerText="Loading"},1e3);n.FS("writeFile","always sunny.mp4",await(0,l.fetchFile)(c.url)),n.FS("writeFile","intro_title",await(0,l.fetchFile)(g)),await n.run("-i","always sunny.mp4","-i","intro_title","-filter_complex","[1][0]scale2ref[i][v];[v][i]overlay=enable='between(t,0,2.9)'","-c:a","copy","intro.mp4");const j=n.FS("readFile","intro.mp4"),P=URL.createObjectURL(new Blob([j.buffer],{type:"video/mp4"}));clearInterval(E),u.innerText="",_.disabled=!_.disabled,v.src=P,v.style.display="block"}()}),L.load().then(h=>{document.fonts.add(h),console.log("font loaded",h),o=document.getElementById("canvas"),i=o.getContext("2d"),i.fillStyle="black",i.fillRect(0,0,1280,713),i.fillStyle="white",i.font="62px textile_regular",i.filter="blur(0.7px)",i.textAlign="center"})})()})();
